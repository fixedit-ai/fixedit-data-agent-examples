# Test Configuration for Overlay Input Only
#
# This configuration provides test data input for the overlay system.
# It reads from a static file and outputs to the same overlay configuration
# used in production, ensuring test and production use identical logic.

[agent]
  interval = "1s"
  flush_interval = "1s"

# Input: Single detection from test file
[[inputs.file]]
  files = ["${HELPER_FILES_DIR}/${SAMPLE_FILE}"]
  data_format = "json"
  name_override = "rate_limited_alert_frame"
  # String fields that should be preserved as strings during JSON parsing
  json_string_fields = ["timestamp", "track_id", "object_type", "frame"]

# Output: Use the same overlay configuration as production
# This ensures test and production use identical overlay logic
